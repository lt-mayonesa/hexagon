"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1239],{683:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>a,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"api/cli","title":"CLI API","description":"The Cli class is the core component that defines your custom CLI. This page documents the properties and methods of the Cli class.","source":"@site/docs/api/cli.md","sourceDirName":"api","slug":"/api/cli","permalink":"/hexagon/docs/api/cli","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api/cli.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"apiSidebar","previous":{"title":"API Reference","permalink":"/hexagon/docs/api"},"next":{"title":"Tool API","permalink":"/hexagon/docs/api/tool"}}');var t=s(4848),d=s(8453);const r={sidebar_position:1},l="CLI API",o={},c=[{value:"Cli Class",id:"cli-class",level:2},{value:"Properties",id:"properties",level:3},{value:"Property Details",id:"property-details",level:4},{value:"EntrypointConfig Class",id:"entrypointconfig-class",level:2},{value:"Properties",id:"properties-1",level:3},{value:"Entrypoint Use Cases",id:"entrypoint-use-cases",level:4},{value:"Runtime Options",id:"runtime-options",level:2},{value:"Available Options",id:"available-options",level:3},{value:"Options Reference",id:"options-reference",level:3},{value:"Environment Variable Equivalents",id:"environment-variable-equivalents",level:3},{value:"Theme Options",id:"theme-options",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"See Also",id:"see-also",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"cli-api",children:"CLI API"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"Cli"})," class is the core component that defines your custom CLI. This page documents the properties and methods of the ",(0,t.jsx)(n.code,{children:"Cli"})," class."]}),"\n",(0,t.jsx)(n.h2,{id:"cli-class",children:"Cli Class"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"Cli"})," class is defined in ",(0,t.jsx)(n.code,{children:"hexagon/domain/cli.py"})," and uses Pydantic for data validation."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class Cli(BaseModel):\n    name: str\n    command: str\n    entrypoint: EntrypointConfig = EntrypointConfig()\n    custom_tools_dir: Optional[str] = None\n    plugins: List[str] = []\n    options: Optional[dict] = None\n"})}),"\n",(0,t.jsx)(n.h3,{id:"properties",children:"Properties"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"name"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"str"})}),(0,t.jsx)(n.td,{children:"The display name of your CLI"}),(0,t.jsx)(n.td,{children:"Yes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"command"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"str"})}),(0,t.jsx)(n.td,{children:"The command used to invoke your CLI"}),(0,t.jsx)(n.td,{children:"Yes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"entrypoint"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"EntrypointConfig"})}),(0,t.jsx)(n.td,{children:"Configuration for the CLI entrypoint"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"custom_tools_dir"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Optional[str]"})}),(0,t.jsx)(n.td,{children:"Directory for custom tool implementations"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"plugins"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"List[str]"})}),(0,t.jsx)(n.td,{children:"List of plugins to use"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"options"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Optional[dict]"})}),(0,t.jsx)(n.td,{children:"Runtime options (theme, updates, etc.)"}),(0,t.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"property-details",children:"Property Details"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"name"})}),": The display name shown in menus and help text."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"command"})}),": The command users type to invoke your CLI (e.g., ",(0,t.jsx)(n.code,{children:"mycli"})," means users run ",(0,t.jsx)(n.code,{children:"mycli"}),")."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"entrypoint"})}),": Customizes the execution environment. See ",(0,t.jsx)(n.a,{href:"#entrypointconfig-class",children:"EntrypointConfig"})," below."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"custom_tools_dir"})}),": Path to a directory containing custom Python tools, relative to the config file. This directory is added to Python's sys.path, allowing tools to import custom modules."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"plugins"})}),": List of plugin paths (relative to project directory). Plugins extend Hexagon with custom functionality. See ",(0,t.jsx)(n.a,{href:"../guides/plugins",children:"Plugins Guide"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"options"})}),": Runtime configuration options. See ",(0,t.jsx)(n.a,{href:"#runtime-options",children:"Runtime Options"})," below."]}),"\n",(0,t.jsx)(n.h2,{id:"entrypointconfig-class",children:"EntrypointConfig Class"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"EntrypointConfig"})," class defines how the CLI is executed."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class EntrypointConfig(BaseModel):\n    shell: Optional[str] = None\n    pre_command: Optional[str] = None\n    environ: Dict[str, Any] = {}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"properties-1",children:"Properties"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"shell"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Optional[str]"})}),(0,t.jsxs)(n.td,{children:["Custom shell to use for commands (default: ",(0,t.jsx)(n.code,{children:"sh"}),")"]}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"pre_command"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Optional[str]"})}),(0,t.jsx)(n.td,{children:"Command to run before each tool execution"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"environ"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Dict[str, Any]"})}),(0,t.jsx)(n.td,{children:"Environment variables to set"}),(0,t.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"entrypoint-use-cases",children:"Entrypoint Use Cases"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Custom Shell"}),": Use a specific shell for command execution"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"entrypoint:\n  shell: zsh  # Use zsh instead of sh\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Environment Setup"}),": Run setup commands before each tool"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'entrypoint:\n  pre_command: source ~/.env && export PATH="$PATH:/custom/bin"\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Environment Variables"}),": Set variables for all tool executions"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'entrypoint:\n  environ:\n    NODE_ENV: production\n    API_KEY: your-api-key\n    DEBUG: "false"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"runtime-options",children:"Runtime Options"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"options"})," property configures Hexagon's runtime behavior. Options can be set in three ways (in order of precedence):"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"YAML configuration"})," (",(0,t.jsx)(n.code,{children:"cli.options"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Environment variables"})," (prefix with ",(0,t.jsx)(n.code,{children:"HEXAGON_"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"User storage"})," (persisted settings)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"available-options",children:"Available Options"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'cli:\n  options:\n    # UI Configuration\n    theme: default                          # default, disabled, result_only\n    hints_disabled: false                   # Disable hint messages\n\n    # Update Configuration\n    update_disabled: false                  # Disable hexagon framework updates\n    cli_update_disabled: false              # Disable CLI project updates\n    update_time_between_checks: 86400       # Update check interval (seconds)\n\n    # Feature Configuration\n    send_telemetry: false                   # Enable/disable telemetry\n    disable_dependency_scan: false          # Disable dependency scanning\n    cwd_tools_disabled: false               # Disable directory-specific tools\n\n    # Storage Configuration\n    config_storage_path: /custom/path       # Custom storage location\n\n    # Keyboard Configuration\n    keymap:\n      create_dir: "c-p"                     # Custom keyboard shortcuts\n'})}),"\n",(0,t.jsx)(n.h3,{id:"options-reference",children:"Options Reference"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"theme"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"str"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'"default"'})}),(0,t.jsxs)(n.td,{children:["UI theme: ",(0,t.jsx)(n.code,{children:"default"}),", ",(0,t.jsx)(n.code,{children:"disabled"}),", ",(0,t.jsx)(n.code,{children:"result_only"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"update_disabled"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bool"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:"Disable automatic hexagon framework updates"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cli_update_disabled"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bool"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:"Disable automatic CLI project updates"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"update_time_between_checks"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"int"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"86400"})}),(0,t.jsx)(n.td,{children:"Seconds between update checks (1 day)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"hints_disabled"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bool"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:"Disable helpful hint messages"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cwd_tools_disabled"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bool"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsxs)(n.td,{children:["Disable loading ",(0,t.jsx)(n.code,{children:"hexagon_tools.yaml"})," from current directory"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"send_telemetry"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bool"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:"Enable anonymous usage telemetry"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"disable_dependency_scan"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bool"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:"Disable dependency vulnerability scanning"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"config_storage_path"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"str"})}),(0,t.jsx)(n.td,{children:"System default"}),(0,t.jsx)(n.td,{children:"Custom path for user data storage"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"keymap"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"dict"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{}"})}),(0,t.jsx)(n.td,{children:"Custom keyboard shortcut mappings"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"environment-variable-equivalents",children:"Environment Variable Equivalents"}),"\n",(0,t.jsxs)(n.p,{children:["All options can be set via environment variables by prefixing with ",(0,t.jsx)(n.code,{children:"HEXAGON_"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"export HEXAGON_THEME=disabled\nexport HEXAGON_UPDATE_DISABLED=true\nexport HEXAGON_CLI_UPDATE_DISABLED=true\nexport HEXAGON_HINTS_DISABLED=true\nexport HEXAGON_CWD_TOOLS_DISABLED=true\nexport HEXAGON_SEND_TELEMETRY=false\n"})}),"\n",(0,t.jsx)(n.h3,{id:"theme-options",children:"Theme Options"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"default"})}),": Full rich terminal output with colors, borders, and formatting"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"disabled"})}),": Minimal output without styling (useful for CI/CD)"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"result_only"})}),": Only show final results, hide intermediate messages"]}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"runtime-options",children:"Runtime Options API"})," for complete documentation."]}),"\n",(0,t.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,t.jsx)(n.p,{children:"Here's a comprehensive example of a CLI configuration:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'cli:\n  name: Team CLI\n  command: team\n  custom_tools_dir: ./custom_tools\n  plugins:\n    - plugins/telemetry.py\n    - plugins/authentication.py\n\n  options:\n    theme: default\n    update_disabled: false\n    cli_update_disabled: false\n    hints_disabled: false\n    cwd_tools_disabled: false\n\n  entrypoint:\n    shell: zsh\n    pre_command: source ~/.env\n    environ:\n      NODE_ENV: production\n      DEBUG: "false"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["And here's how you might create a ",(0,t.jsx)(n.code,{children:"Cli"})," instance programmatically:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from hexagon.domain.cli import Cli, EntrypointConfig\n\nentrypoint = EntrypointConfig(\n    shell="zsh",\n    pre_command="source ~/.env",\n    environ={\n        "NODE_ENV": "production",\n        "DEBUG": "false"\n    }\n)\n\ncli = Cli(\n    name="Team CLI",\n    command="team",\n    custom_tools_dir="./custom_tools",\n    plugins=["plugins/telemetry.py", "plugins/authentication.py"],\n    options={\n        "theme": "default",\n        "update_disabled": False,\n        "hints_disabled": False\n    },\n    entrypoint=entrypoint\n)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"../getting-started/configuration",children:"Configuration Guide"})," - Complete YAML configuration reference"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"runtime-options",children:"Runtime Options API"})," - Detailed options documentation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"../guides/plugins",children:"Plugins Guide"})," - Creating and using plugins"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"../guides/theming",children:"Theming Guide"})," - UI theme customization"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(6540);const t={},d=i.createContext(t);function r(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);