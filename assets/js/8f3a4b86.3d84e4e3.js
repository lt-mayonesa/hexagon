"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9625],{6273:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"api/actions/shell","title":"Shell Actions","description":"Shell actions execute shell commands. This page documents how to configure and use shell actions in your CLI.","source":"@site/docs/api/actions/shell.md","sourceDirName":"api/actions","slug":"/api/actions/shell","permalink":"/hexagon/docs/api/actions/shell","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api/actions/shell.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"apiSidebar","previous":{"title":"Web Actions","permalink":"/hexagon/docs/api/actions/web"},"next":{"title":"Output API","permalink":"/hexagon/docs/api/support/output"}}');var i=l(4848),o=l(8453);const t={sidebar_position:2},a="Shell Actions",r={},c=[{value:"Configuration",id:"configuration",level:2},{value:"Single vs. Multiple Commands",id:"single-vs-multiple-commands",level:2},{value:"Single Command",id:"single-command",level:3},{value:"Multiple Commands",id:"multiple-commands",level:3},{value:"Environment-Specific Commands",id:"environment-specific-commands",level:2},{value:"Command Parameters",id:"command-parameters",level:2},{value:"Implementation",id:"implementation",level:2},{value:"Examples",id:"examples",level:2},{value:"Simple Shell Tool",id:"simple-shell-tool",level:3},{value:"Shell Tool with Multiple Commands",id:"shell-tool-with-multiple-commands",level:3},{value:"Shell Tool with Parameters",id:"shell-tool-with-parameters",level:3},{value:"Shell Tool with Environment-Specific Commands",id:"shell-tool-with-environment-specific-commands",level:3},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"shell-actions",children:"Shell Actions"})}),"\n",(0,i.jsx)(n.p,{children:"Shell actions execute shell commands. This page documents how to configure and use shell actions in your CLI."}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Shell actions are configured using the ",(0,i.jsx)(n.code,{children:"ActionTool"})," class with ",(0,i.jsx)(n.code,{children:"type"})," set to ",(0,i.jsx)(n.code,{children:"shell"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- name: deploy\n  alias: dep\n  long_name: Deploy Service\n  description: Deploy the service\n  type: shell\n  action: ./scripts/deploy.sh\n"})}),"\n",(0,i.jsx)(n.h2,{id:"single-vs-multiple-commands",children:"Single vs. Multiple Commands"}),"\n",(0,i.jsx)(n.p,{children:"Shell actions can be a single command or multiple commands:"}),"\n",(0,i.jsx)(n.h3,{id:"single-command",children:"Single Command"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"action: ./scripts/deploy.sh\n"})}),"\n",(0,i.jsx)(n.h3,{id:"multiple-commands",children:"Multiple Commands"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'action:\n  - "echo \'Starting deployment...\'" \n  - "cd /path/to/project"\n  - "./scripts/deploy.sh"\n'})}),"\n",(0,i.jsx)(n.p,{children:"When multiple commands are specified, they are joined with newlines and executed as a single script."}),"\n",(0,i.jsx)(n.h2,{id:"environment-specific-commands",children:"Environment-Specific Commands"}),"\n",(0,i.jsxs)(n.p,{children:["Shell actions can have different commands for different environments using the ",(0,i.jsx)(n.code,{children:"envs"})," property:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- name: deploy\n  alias: dep\n  long_name: Deploy Service\n  description: Deploy the service\n  type: shell\n  envs:\n    dev: \"echo 'Deploying to development...' && ./scripts/deploy-dev.sh\"\n    staging: \"echo 'Deploying to staging...' && ./scripts/deploy-staging.sh\"\n    prod: \"echo 'Deploying to production...' && ./scripts/deploy-prod.sh\"\n"})}),"\n",(0,i.jsx)(n.p,{children:"When the tool is executed, Hexagon will use the command for the selected environment."}),"\n",(0,i.jsx)(n.h2,{id:"command-parameters",children:"Command Parameters"}),"\n",(0,i.jsx)(n.p,{children:"You can include parameters in your commands:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'- name: greet\n  alias: g\n  long_name: Greet\n  description: Greet someone\n  type: shell\n  action: echo "Hello, {name}!"\n'})}),"\n",(0,i.jsx)(n.p,{children:"When the tool is executed, Hexagon will prompt the user for the parameter values."}),"\n",(0,i.jsx)(n.h2,{id:"implementation",children:"Implementation"}),"\n",(0,i.jsxs)(n.p,{children:["Internally, shell actions are implemented in the ",(0,i.jsx)(n.code,{children:"hexagon/actions/shell.py"})," module. The shell command is executed using the ",(0,i.jsx)(n.code,{children:"subprocess"})," module:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'def execute_shell_command(command):\n    """Execute a shell command and return the output."""\n    import subprocess\n    result = subprocess.run(command, shell=True, capture_output=True, text=True)\n    if result.returncode == 0:\n        return result.stdout.splitlines()\n    else:\n        return [f"Error: {result.stderr}"]\n'})}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h3,{id:"simple-shell-tool",children:"Simple Shell Tool"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- name: deploy\n  alias: dep\n  long_name: Deploy Service\n  description: Deploy the service\n  type: shell\n  action: ./scripts/deploy.sh\n"})}),"\n",(0,i.jsx)(n.h3,{id:"shell-tool-with-multiple-commands",children:"Shell Tool with Multiple Commands"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'- name: setup\n  alias: s\n  long_name: Setup Project\n  description: Set up the project\n  type: shell\n  action:\n    - "echo \'Setting up project...\'" \n    - "npm install"\n    - "npm run build"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"shell-tool-with-parameters",children:"Shell Tool with Parameters"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'- name: greet\n  alias: g\n  long_name: Greet\n  description: Greet someone\n  type: shell\n  action: echo "Hello, {name}!"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"shell-tool-with-environment-specific-commands",children:"Shell Tool with Environment-Specific Commands"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- name: deploy\n  alias: dep\n  long_name: Deploy Service\n  description: Deploy the service\n  type: shell\n  envs:\n    dev: \"echo 'Deploying to development...' && ./scripts/deploy-dev.sh\"\n    staging: \"echo 'Deploying to staging...' && ./scripts/deploy-staging.sh\"\n    prod: \"echo 'Deploying to production...' && ./scripts/deploy-prod.sh\"\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Scripts for Complex Commands"}),": For complex operations, create a script and call it from your shell tool"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Handle Errors"}),": Make sure your commands handle errors gracefully"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Environment-Specific Commands"}),": Configure different commands for different environments"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Parameters"}),": Use parameters to make your shell tools more flexible"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Provide Clear Descriptions"}),": Make it clear what the shell tool does"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Consistent Naming"}),": Use consistent naming conventions for shell tools"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>t,x:()=>a});var s=l(6540);const i={},o=s.createContext(i);function t(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);