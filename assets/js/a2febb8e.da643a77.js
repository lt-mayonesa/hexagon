"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[132],{3705:n=>{n.exports=JSON.parse('{"permalink":"/hexagon/blog/multi-environment-workflow","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2026-01-06-multi-environment-workflow.md","source":"@site/blog/2026-01-06-multi-environment-workflow.md","title":"Tutorial: Multi-Environment Workflow","description":"This tutorial demonstrates how to build a CLI with multiple environments for a realistic development workflow. You\'ll learn how to configure tools for different environments and use them effectively.","date":"2026-01-06T00:00:00.000Z","tags":[{"inline":false,"label":"Tutorial","permalink":"/hexagon/blog/tags/tutorial","description":"Step-by-step guides for using Hexagon"},{"inline":false,"label":"Environments","permalink":"/hexagon/blog/tags/environments","description":"Multi-environment configurations and workflows"},{"inline":false,"label":"Workflow","permalink":"/hexagon/blog/tags/workflow","description":"Team workflows and best practices"}],"readingTime":8.355,"hasTruncateMarker":true,"authors":[{"name":"Joaco Campero","title":"Creator of Hexagon","url":"https://github.com/lt-mayonesa","page":{"permalink":"/hexagon/blog/authors/joaco"},"socials":{"github":"https://github.com/lt-mayonesa"},"imageURL":"https://github.com/lt-mayonesa.png","key":"joaco"}],"frontMatter":{"slug":"multi-environment-workflow","title":"Tutorial: Multi-Environment Workflow","authors":["joaco"],"tags":["tutorial","environments","workflow"]},"unlisted":false,"prevItem":{"title":"Tutorial: Building a Custom Tool","permalink":"/hexagon/blog/building-custom-tool"},"nextItem":{"title":"Welcome to the Hexagon Blog","permalink":"/hexagon/blog/welcome-to-hexagon"}}')},4331:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>r,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>c});var t=o(3705),i=o(4848),s=o(8453);const l={slug:"multi-environment-workflow",title:"Tutorial: Multi-Environment Workflow",authors:["joaco"],tags:["tutorial","environments","workflow"]},a="Multi-Environment Workflow",r={authorsImageUrls:[void 0]},c=[{value:"Scenario",id:"scenario",level:2},{value:"Step 1: Define Environments",id:"step-1-define-environments",level:2},{value:"Step 2: Add Web Tools with Environment URLs",id:"step-2-add-web-tools-with-environment-urls",level:2},{value:"Step 3: Add Environment-Specific Shell Commands",id:"step-3-add-environment-specific-shell-commands",level:2},{value:"Step 4: Create Custom Tool with Environment Logic",id:"step-4-create-custom-tool-with-environment-logic",level:2},{value:"Step 5: Use Format Strings for Dynamic Commands",id:"step-5-use-format-strings-for-dynamic-commands",level:2},{value:"Step 6: Create Environment-Specific Tool Groups",id:"step-6-create-environment-specific-tool-groups",level:2},{value:"Step 7: Set Default Environment",id:"step-7-set-default-environment",level:2},{value:"Step 8: Create Environment Aliases",id:"step-8-create-environment-aliases",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Environment Naming",id:"1-environment-naming",level:3},{value:"2. Configuration Management",id:"2-configuration-management",level:3},{value:"3. Environment-Specific Safety",id:"3-environment-specific-safety",level:3},{value:"4. Consistent Tool Configuration",id:"4-consistent-tool-configuration",level:3},{value:"5. Use Wildcard for Common Values",id:"5-use-wildcard-for-common-values",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"This tutorial demonstrates how to build a CLI with multiple environments for a realistic development workflow. You'll learn how to configure tools for different environments and use them effectively."}),"\n",(0,i.jsx)(e.h2,{id:"scenario",children:"Scenario"}),"\n",(0,i.jsx)(e.p,{children:"You're building a CLI for your team that deploys a web application to three environments:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Development"})," - Local development server"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Staging"})," - Testing environment for QA"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Production"})," - Live production servers"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Each environment has different configurations for:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"API URLs"}),"\n",(0,i.jsx)(e.li,{children:"Database connections"}),"\n",(0,i.jsx)(e.li,{children:"Deployment scripts"}),"\n",(0,i.jsx)(e.li,{children:"Monitoring dashboards"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"step-1-define-environments",children:"Step 1: Define Environments"}),"\n",(0,i.jsxs)(e.p,{children:["Start by defining your environments in ",(0,i.jsx)(e.code,{children:"app.yaml"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"cli:\n  name: Deploy CLI\n  command: deploy-cli\n  custom_tools_dir: ./custom_tools\n\nenvs:\n  - name: development\n    alias: dev\n    long_name: Development Environment\n    description: Local development environment\n\n  - name: staging\n    alias: stg\n    long_name: Staging Environment\n    description: Pre-production testing environment\n\n  - name: production\n    alias: prod\n    long_name: Production Environment\n    description: Live production environment\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Key points:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"name"}),": Full environment name (required)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"alias"}),": Short form for quick access (recommended)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"long_name"}),": Display name in menus"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"description"}),": Explains the environment's purpose"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"step-2-add-web-tools-with-environment-urls",children:"Step 2: Add Web Tools with Environment URLs"}),"\n",(0,i.jsx)(e.p,{children:"Let's add tools to open various dashboards specific to each environment:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"tools:\n  - name: dashboard\n    alias: dash\n    long_name: Application Dashboard\n    description: Open the application dashboard\n    type: web\n    action: open_link\n    envs:\n      development: http://localhost:3000\n      staging: https://staging.myapp.com\n      production: https://myapp.com\n\n  - name: api-docs\n    alias: api\n    long_name: API Documentation\n    description: Open API documentation\n    type: web\n    action: open_link\n    envs:\n      development: http://localhost:8080/docs\n      staging: https://staging-api.myapp.com/docs\n      production: https://api.myapp.com/docs\n\n  - name: logs\n    alias: l\n    long_name: Application Logs\n    description: Open log viewer\n    type: web\n    action: open_link\n    envs:\n      development: http://localhost:9000\n      staging: https://logs.staging.myapp.com\n      production: https://logs.myapp.com\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Testing:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Open development dashboard\ndeploy-cli dashboard dev\n\n# Open staging API docs\ndeploy-cli api-docs staging\n\n# Production logs (will prompt for environment if not specified)\ndeploy-cli logs\n"})}),"\n",(0,i.jsx)(e.h2,{id:"step-3-add-environment-specific-shell-commands",children:"Step 3: Add Environment-Specific Shell Commands"}),"\n",(0,i.jsx)(e.p,{children:"Now let's add deployment tools with different commands per environment:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'tools:\n  - name: deploy\n    alias: d\n    long_name: Deploy Application\n    description: Deploy the application\n    type: shell\n    envs:\n      development: |\n        echo "\ud83d\ude80 Deploying to development..."\n        npm run build:dev\n        docker-compose -f docker-compose.dev.yml up -d\n        echo "\u2705 Development deployment complete!"\n      staging: |\n        echo "\ud83d\ude80 Deploying to staging..."\n        npm run build:staging\n        ./scripts/deploy-staging.sh\n        echo "\u2705 Staging deployment complete!"\n      production: |\n        echo "\ud83d\ude80 Deploying to production..."\n        npm run build:prod\n        ./scripts/deploy-production.sh --verify\n        echo "\u2705 Production deployment complete!"\n\n  - name: rollback\n    alias: rb\n    long_name: Rollback Deployment\n    description: Rollback to previous version\n    type: shell\n    envs:\n      development: docker-compose -f docker-compose.dev.yml down && git checkout HEAD~1\n      staging: ./scripts/rollback.sh staging\n      production: ./scripts/rollback.sh production --confirm\n'})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Note:"})," Use ",(0,i.jsx)(e.code,{children:"|"})," for multi-line commands in YAML."]}),"\n",(0,i.jsx)(e.h2,{id:"step-4-create-custom-tool-with-environment-logic",children:"Step 4: Create Custom Tool with Environment Logic"}),"\n",(0,i.jsx)(e.p,{children:"Let's create a custom tool that behaves differently based on the environment:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'# custom_tools/health_check.py\nfrom hexagon.support.output.printer import log\nfrom hexagon.support.input.args import ToolArgs, OptionalArg, Arg\nimport urllib.request\nimport json\n\nclass Args(ToolArgs):\n    verbose: OptionalArg[bool] = Arg(\n        False,\n        alias="v",\n        description="Show detailed health check information"\n    )\n\ndef main(tool, env, env_args, cli_args: Args):\n    """Check application health for the selected environment."""\n\n    # env_args contains the environment-specific configuration\n    if not env_args:\n        log.error("No configuration for this environment")\n        return ["Error: Environment not configured"]\n\n    # Extract configuration\n    config = env_args\n    api_url = config.get("api_url")\n    check_interval = config.get("check_interval", 30)\n    critical = config.get("critical", False)\n\n    # Show environment info\n    env_name = env.name if env else "unknown"\n    log.info(f"Checking health for: {env_name}")\n\n    if critical:\n        log.panel(\n            "\u26a0\ufe0f  This is a CRITICAL environment\\nChanges require approval",\n            title="Warning"\n        )\n\n    # Perform health check\n    try:\n        health_url = f"{api_url}/health"\n        log.info(f"Checking: {health_url}")\n\n        with urllib.request.urlopen(health_url, timeout=5) as response:\n            data = json.loads(response.read().decode())\n\n        status = data.get("status", "unknown")\n\n        if status == "healthy":\n            log.info("\u2705 Service is healthy")\n            results = [\n                f"Status: {status}",\n                f"Check interval: {check_interval}s"\n            ]\n\n            if cli_args.verbose.value:\n                # Show additional details in verbose mode\n                results.extend([\n                    f"Uptime: {data.get(\'uptime\', \'N/A\')}",\n                    f"Version: {data.get(\'version\', \'N/A\')}",\n                    f"Requests: {data.get(\'total_requests\', \'N/A\')}"\n                ])\n\n            return results\n        else:\n            log.error(f"\u274c Service is {status}")\n            return [f"Status: {status}"]\n\n    except urllib.error.URLError as e:\n        log.error(f"Failed to reach service: {str(e)}")\n        return [f"Error: Cannot connect to {api_url}"]\n    except Exception as e:\n        log.error(f"Health check failed: {str(e)}")\n        return [f"Error: {str(e)}"]\n'})}),"\n",(0,i.jsx)(e.p,{children:"Add the tool to your configuration with environment-specific settings:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"tools:\n  - name: health\n    alias: h\n    long_name: Health Check\n    description: Check application health\n    type: shell\n    action: health_check\n    envs:\n      development:\n        api_url: http://localhost:8080\n        check_interval: 10\n        critical: false\n      staging:\n        api_url: https://staging-api.myapp.com\n        check_interval: 30\n        critical: false\n      production:\n        api_url: https://api.myapp.com\n        check_interval: 60\n        critical: true  # Mark production as critical\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Usage:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Basic health check\ndeploy-cli health dev\n\n# Verbose health check\ndeploy-cli health prod --verbose\n"})}),"\n",(0,i.jsx)(e.h2,{id:"step-5-use-format-strings-for-dynamic-commands",children:"Step 5: Use Format Strings for Dynamic Commands"}),"\n",(0,i.jsx)(e.p,{children:"You can use format strings to create dynamic commands based on environment:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'tools:\n  - name: ssh\n    alias: s\n    long_name: SSH to Server\n    description: SSH into environment server\n    type: shell\n    envs:\n      development: echo "Development runs locally (no SSH needed)"\n      staging: ssh deploy@staging-{env.name}.myapp.com\n      production: ssh deploy@{env_args}\n    # For production, env_args could be: prod-server-01.myapp.com\n\n  - name: db-connect\n    alias: db\n    long_name: Database Connection\n    description: Connect to database\n    type: shell\n    envs:\n      development: psql -h localhost -U dev -d myapp_dev\n      staging: psql -h {env_args.host} -U {env_args.user} -d myapp_staging\n      production: psql -h {env_args.host} -U {env_args.user} -d myapp_prod\n'})}),"\n",(0,i.jsx)(e.p,{children:"For complex env_args, use dictionary format:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"tools:\n  - name: db-connect\n    type: shell\n    envs:\n      staging:\n        host: staging-db.myapp.com\n        user: staging_user\n        database: myapp_staging\n      production:\n        host: prod-db.myapp.com\n        user: prod_user\n        database: myapp_prod\n"})}),"\n",(0,i.jsx)(e.h2,{id:"step-6-create-environment-specific-tool-groups",children:"Step 6: Create Environment-Specific Tool Groups"}),"\n",(0,i.jsx)(e.p,{children:"Organize tools by environment with groups:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'tools:\n  - name: dev-tools\n    long_name: Development Tools\n    description: Tools for local development\n    type: group\n    tools:\n      - name: start-local\n        description: Start local development server\n        type: shell\n        action: npm run dev\n\n      - name: test\n        description: Run tests\n        type: shell\n        action: npm test\n\n      - name: lint\n        description: Run linter\n        type: shell\n        action: npm run lint\n\n  - name: prod-tools\n    long_name: Production Tools\n    description: Production management tools\n    type: group\n    tools:\n      - name: deploy\n        description: Deploy to production\n        type: shell\n        action: ./scripts/deploy-production.sh\n\n      - name: monitor\n        description: Open monitoring dashboard\n        type: web\n        action: open_link\n        envs:\n          "*": https://monitoring.myapp.com\n\n      - name: incidents\n        description: View incident reports\n        type: web\n        action: open_link\n        envs:\n          "*": https://incidents.myapp.com\n'})}),"\n",(0,i.jsx)(e.h2,{id:"step-7-set-default-environment",children:"Step 7: Set Default Environment"}),"\n",(0,i.jsx)(e.p,{children:"For convenience, set a default environment:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# In your shell profile (.bashrc, .zshrc, etc.)\nexport HEXAGON_DEFAULT_ENV=development\n"})}),"\n",(0,i.jsx)(e.p,{children:"Now when you run tools without specifying an environment, development will be used by default:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Uses development by default\ndeploy-cli dashboard\n\n# Explicitly use staging\ndeploy-cli dashboard staging\n"})}),"\n",(0,i.jsx)(e.h2,{id:"step-8-create-environment-aliases",children:"Step 8: Create Environment Aliases"}),"\n",(0,i.jsx)(e.p,{children:"Save frequently used environment commands as aliases:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Run the save-alias tool\ndeploy-cli save-alias\n\n# Select tool: deploy\n# Select environment: production\n# Enter alias: dp\n\n# Now you can use the alias\ndeploy-cli dp  # Runs: deploy-cli deploy production\n"})}),"\n",(0,i.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(e.h3,{id:"1-environment-naming",children:"1. Environment Naming"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Good:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"envs:\n  - name: development\n    alias: dev\n  - name: staging\n    alias: stg\n  - name: production\n    alias: prod\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Avoid:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'envs:\n  - name: dev  # Too short for main name\n  - name: stage  # Inconsistent with "production"\n  - name: live  # Unclear what this means\n'})}),"\n",(0,i.jsx)(e.h3,{id:"2-configuration-management",children:"2. Configuration Management"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Store sensitive data in environment variables:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'tools:\n  - name: deploy\n    type: shell\n    action: deploy_tool\n    envs:\n      production:\n        api_key: "${PROD_API_KEY}"  # Reference env variable\n        database_url: "${PROD_DB_URL}"\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Don't commit secrets to YAML:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'# \u274c BAD - secrets in config file\nenvs:\n  production:\n    api_key: "sk_live_abc123..."  # Never do this!\n'})}),"\n",(0,i.jsx)(e.h3,{id:"3-environment-specific-safety",children:"3. Environment-Specific Safety"}),"\n",(0,i.jsx)(e.p,{children:"Add confirmation for critical environments:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'def main(tool, env, env_args, cli_args):\n    # Check if production\n    if env and env.name == "production":\n        log.panel(\n            "\u26a0\ufe0f  You are about to modify PRODUCTION\\nThis action cannot be undone",\n            title="Warning"\n        )\n        confirm = input("Type \'CONFIRM\' to proceed: ")\n        if confirm != "CONFIRM":\n            return ["Cancelled"]\n\n    # Proceed with operation\n    # ...\n'})}),"\n",(0,i.jsx)(e.h3,{id:"4-consistent-tool-configuration",children:"4. Consistent Tool Configuration"}),"\n",(0,i.jsx)(e.p,{children:"Ensure all environments are configured for each tool:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"# \u2705 GOOD - all environments configured\n- name: dashboard\n  type: web\n  action: open_link\n  envs:\n    development: http://localhost:3000\n    staging: https://staging.myapp.com\n    production: https://myapp.com\n\n# \u274c BAD - missing staging\n- name: dashboard\n  type: web\n  action: open_link\n  envs:\n    development: http://localhost:3000\n    production: https://myapp.com\n    # staging not configured - will fail!\n"})}),"\n",(0,i.jsx)(e.h3,{id:"5-use-wildcard-for-common-values",children:"5. Use Wildcard for Common Values"}),"\n",(0,i.jsx)(e.p,{children:"When all environments use the same value:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'- name: docs\n  type: web\n  action: open_link\n  envs:\n    "*": https://docs.myapp.com  # Same for all environments\n'})}),"\n",(0,i.jsx)(e.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,i.jsxs)(e.p,{children:["Here's a complete ",(0,i.jsx)(e.code,{children:"app.yaml"})," for a multi-environment CLI:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'cli:\n  name: MyApp CLI\n  command: myapp\n  custom_tools_dir: ./custom_tools\n\nenvs:\n  - name: development\n    alias: dev\n    long_name: Development\n    description: Local development environment\n\n  - name: staging\n    alias: stg\n    long_name: Staging\n    description: Pre-production testing\n\n  - name: production\n    alias: prod\n    long_name: Production\n    description: Live production environment\n\ntools:\n  # Deployment\n  - name: deploy\n    alias: d\n    long_name: Deploy Application\n    type: shell\n    action: deploy_app\n    envs:\n      development:\n        target: local\n        verify: false\n      staging:\n        target: staging-cluster\n        verify: true\n      production:\n        target: production-cluster\n        verify: true\n        require_approval: true\n\n  # Monitoring\n  - name: dashboard\n    alias: dash\n    type: web\n    action: open_link\n    envs:\n      development: http://localhost:3000\n      staging: https://staging.myapp.com\n      production: https://myapp.com\n\n  - name: logs\n    alias: l\n    type: web\n    action: open_link\n    envs:\n      development: http://localhost:9000\n      staging: https://logs.staging.myapp.com\n      production: https://logs.myapp.com\n\n  # Health checks\n  - name: health\n    alias: h\n    type: shell\n    action: health_check\n    envs:\n      development:\n        api_url: http://localhost:8080\n        critical: false\n      staging:\n        api_url: https://staging-api.myapp.com\n        critical: false\n      production:\n        api_url: https://api.myapp.com\n        critical: true\n\n  # Database\n  - name: db-backup\n    long_name: Database Backup\n    type: shell\n    envs:\n      development: echo "Development DB backed up locally"\n      staging: ./scripts/backup-db.sh staging\n      production: ./scripts/backup-db.sh production --verify\n'})}),"\n",(0,i.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Problem:"})," Environment not found"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"$ myapp deploy prod\nError: Environment 'prod' not found\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Solution:"})," Check your environment alias matches:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"envs:\n  - name: production\n    alias: prod  # This must match the alias you use\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Problem:"}),' Tool fails with "No environment configuration"']}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"$ myapp deploy dev\nError: No configuration for environment 'development'\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Solution:"})," Ensure tool has configuration for all environments:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"- name: deploy\n  envs:\n    development: ./deploy-dev.sh\n    staging: ./deploy-staging.sh\n    production: ./deploy-prod.sh  # Don't forget any!\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Problem:"})," Environment variables not interpolated"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"$ myapp ssh prod\n# Shows: ssh user@{env_args.host} instead of actual host\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Solution:"})," Format strings only work with inline commands, not in env_args values. Use this pattern instead:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'- name: ssh\n  type: shell\n  action: "ssh user@{env_args}"  # Format string in action\n  envs:\n    production: prod-server-01.myapp.com\n'})}),"\n",(0,i.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/docs/advanced/custom-tools",children:"Custom Tools"})," - Build sophisticated tools"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/docs/guides/environments",children:"Environments Guide"})," - Complete environment reference"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/docs/advanced/action-execution",children:"Action Execution"})," - Understand action resolution"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/docs/guides/troubleshooting",children:"Troubleshooting"})," - Fix common issues"]}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,e,o)=>{o.d(e,{R:()=>l,x:()=>a});var t=o(6540);const i={},s=t.createContext(i);function l(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);